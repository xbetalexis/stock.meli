<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Login Stock</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:sans-serif;background:#0f172a;color:white;display:flex;justify-content:center;align-items:center;height:100vh}
.box{background:#020617;padding:20px;border-radius:10px;width:100%;max-width:300px}
input,button{width:100%;padding:10px;margin-top:10px;border-radius:6px;border:none}
button{background:#38bdf8;color:black;font-weight:bold}
</style>
</head>
<body>
<div class="box">
<h3>Panel Stock</h3>
<input id="user" placeholder="Usuario">
<input id="pass" type="password" placeholder="Clave">
<button onclick="login()">Entrar</button>
<p id="msg"></p>
</div>

<script>
async function login(){
  const r = await fetch('/api/login',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      user:user.value,
      pass:pass.value
    })
  })
  const d = await r.json()
  if(d.ok){
    localStorage.setItem('auth','ok')
    location.href='admin.html'
  }else msg.innerText='Clave incorrecta'
}
</script>
</body>
</html>
